在上一节我们介绍了透视的有关知识，在本节中我们接着讲如何在webGL中让人体会到3D的感觉。

当我们使用照相机去拍摄某高楼大厦时，为了拍摄到不同角度的照片，我们不可能去移动高楼大厦去获得最好的拍摄角度，所以在实际中，我们采用移动照相机的方法去获得更好的效果。在webGL中也是一样，在默认的状态下，我们有一个位于`(0,0,0)`点并且向z轴负半轴望去的摄像机，用来展示整个渲染的内容。

假设我们有10000个渲染的对象，那么当我们需要在界面中展示物体的变化时，我们需要重新绘制所有物体的坐标。这个方法太naive了，我们需要花费大量的时间去计算和渲染物体。所以还有一种改变视角的方法就是移动照相机的位置用来获得同样的效果。

接下来我们定义一个`lookAt`的方法用来封装这一个过程，`lookAt`方法接收三个参数分别为当前照相机的位置，照相机所要看到的中心点，以及现在照相机朝上的单位vector,如图所示:

![qq20151025-0](https://cloud.githubusercontent.com/assets/4397546/10716271/fe12cf9a-7b6d-11e5-8d23-bb67692c47f5.png)

在定义lookAt的过程中，我们首先求得Z方向上的单位坐标,已知cameraPosition(pos)和center，我们需要

```js
var zAxis = normalize(subVector(pos,center));
```

然后根据我们已知的向上方向利用叉乘求出x轴的方向

```js
var xAxis = cross(up,zAxis);
```

知道x轴和y轴的方向分量，我们可以用同样的方法求出z轴的坐标分量。

我们只需知道在这个新的坐标系之下物体的坐标就等于对这个物体进行了相应的变换：

所以在这个方法返回的矩阵为:

```
[
	xAxis[0],xAxis[1],xAxis[2],0,
	yAxis[0],yAxis[1],yAxis[2],0,
	zAxis[0],zAxis[1],zAxis[2],0,
	pos[0],pos[1],pos[2],1
]
```

在lookat完之后我们建立的坐标系只是camera的转换坐标，所以我们需要对这个矩阵进行转置，这样才是真正的物体的转动过程。

